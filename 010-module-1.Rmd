# (PART) Modules {-}

# Module 1

## Lecture


<!--<iframe width="640" height="360" src="YOUTUBE EMBED LINK" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>-->

### 1A
<iframe src="https://docs.google.com/presentation/d/1HQGHgFrZCr8yWmbz0R7lxYGiZpR_Xu_2/preview" width="640" height="480" allow="autoplay"></iframe>  

### 1B
<iframe src="https://docs.google.com/presentation/d/1U1PHHxf_9nJbht6ZWAm9-XpDARuTRPD5/preview" width="640" height="480" allow="autoplay"></iframe>  



## Lab 1A
### Variables
Create 2 numeric variables and assign values for each

```{r}
x = 10
y = 6
```

Calculate the sum of them

```{r}
total = x + y
total
```

Calculate the square root of the total
```{r}
sr = sqrt(total)
sr
```


### Data Structures 
Vector
```{r}
v <- c(1,2,3,4)
v
```


Matrix
```{r}
m <- matrix(1:6, nrow = 2)
m
```


Dataframe
```{r}
df <- data.frame(age=c(25,30), name=c("Mo","Tom"), group=c("A", "B"))
df
```

List
```{r}
lst <- list(numbers=v, info=df)
lst
```


## Lab 1B
### Install BioconductoR packages
```{r, eval=FALSE, message=FALSE}
install.packages("BiocManager")
BiocManager::install("ALL")
```

### View patient metadata
```{r, message=FALSE}
library(BiocManager)
library(ALL)
data(ALL)
df2 <- pData(ALL)
```

### Quick summary
```{r, message=FALSE}
#summary(pData(ALL)[, c("age", "sex", "BT", "relapse")])
summary(df2[, c("age", "sex", "BT", "relapse")])

```

### str() and dim() functions 
```{r, message=FALSE}
dim(df2)
str(df2)
```
### the table() function
```{r, message=FALSE}
af <- table(df2$age)
barplot(af, main = "Age frec.")
```
### mean and median age
```{r, message=FALSE}
mn <- mean(df2$age) # this will return NA
md <- median(df2$age) # this will return NA

mn <- mean(df2$age, na.rm = TRUE) # this will work
md <- median(df2$age, na.rm = TRUE) # this will work
```

### standard deviation and variance
```{r, message=FALSE}
std <- sd(df2$age, na.rm = TRUE)
vr <- var(df2$age, na.rm = TRUE)
```

### Extremes
```{r, message=FALSE}
mxx <- max(df2$age, na.rm = T)
mnn <- min(df2$age, na.rm = T)
```

### Table and (Frequency)
```{r, message=FALSE}
age_dit <- table(df2$age)
```

### Quick summary
```{r, message=FALSE}
summary(df2[, c("age", "sex", "BT", "relapse")])
```

### Patients older than 40
```{r, message=FALSE}
older_patients <- subset(df2, age > 40)
```

### Patients who relapsed
```{r}
relapsed_patients <- subset(df2, relapse == TRUE)
```

### Subsetting and Filtering
#### subset()

```{r}
subset(df2, age > 40 & relapse == TRUE)
```

### Indexing with 
```{r}
df2[df2$age > 40, ]                # filter rows
df2[df2$age > 40 & df2$relapse, ]   # multiple conditions (same as df$Relapse == T)
df2[, c("age", "BT")]             # select columns
df <- df2[df2$sex == "F", ] # female patients only (#Assignment with condition)
```

### with()

```{r}
dfrt2 <- with(df2, df2[age > 40 & relapse == TRUE, ]) #for cleaner syntax
df2[which(df2$age > 40 & df2$relapse == TRUE), ] # more cleanr syntax
```

### match() / %in% (matching values)
```{r}
dfrt <- df2[df2$BT %in% c("B2", "B3"), ]
```

### Logical indexing directly
```{r}
df2[df2$relapse == F | df2$sex == "F", ]
```




















